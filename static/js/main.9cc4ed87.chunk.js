(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return We}));var a=n(0),c=n.n(a),r=n(26),s=n.n(r),i=(n(99),n(12)),o=(n.p,n(100),n(14)),l=n(11),u=n(8),d=n(39),j=n.n(d),h=n(154),b=n(165),p=n(155),O="/admin",m="/login",x="/registration",f="/",v="/basket",g="/about",y=n(1),k=Object(u.a)((function(){var e=Object(a.useContext)(We).user,t=Object(l.k)();return Object(y.jsxs)(h.a,{children:[Object(y.jsx)("h2",{className:"mt-4",children:"My basket: "}),e.goods.map((function(e){var n;return Object(y.jsxs)(b.a,{style:{width:"250px",cursor:"pointer"},className:"mt-4 mb-4",onClick:function(){return t.push("/device/"+e.id)},children:[Object(y.jsx)(p.a,{width:"100%",height:"auto",src:"http://localhost:5000/"+e.img}),Object(y.jsxs)(b.a.Body,{children:[Object(y.jsx)(b.a.Title,{children:null===(n=e.brand)||void 0===n?void 0:n.name}),Object(y.jsx)(b.a.Text,{children:e.name})]}),Object(y.jsx)(b.a.Footer,{children:Object(y.jsx)(j.a,{rating:e.rating,starRatedColor:"blue",numberOfStars:5,starHoverColor:"yellow",name:"rating",starDimension:"20px",starSpacing:"4px"})})]})}))]})})),C=n(89),w=n(161),S=n(162),N=n(9),T=n.n(N),_=n(16),L=n(75),I=n.n(L),B=I.a.create({baseURL:"http://localhost:5000/"}),A=I.a.create({baseURL:"http://localhost:5000/"});A.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat(localStorage.getItem("token")),e}));var D=n(40),F=function(){var e=Object(_.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("api/type",t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(_.a)(T.a.mark((function e(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("api/type");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(_.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("api/brand",t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(_.a)(T.a.mark((function e(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("api/brand");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(_.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("api/device",t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(_.a)(T.a.mark((function e(t,n,a){var c,r,s,i=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.length>3&&void 0!==i[3]?i[3]:5,e.next=3,B.get("api/device",{params:{typeId:t,brandId:n,page:a,limit:c}});case 3:return r=e.sent,s=r.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(_.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("api/device/"+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(_.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.post("api/device/action/like",t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e){var t=e.show,n=e.onHide,c=Object(a.useState)(""),r=Object(i.a)(c,2),s=r[0],o=r[1];return Object(y.jsxs)(w.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(y.jsx)(w.a.Header,{closeButton:!0,children:Object(y.jsx)(w.a.Title,{id:"contained-modal-title-vcenter",children:"Add a new type"})}),Object(y.jsx)(w.a.Body,{children:Object(y.jsx)(S.a,{children:Object(y.jsx)(S.a.Control,{value:s,onChange:function(e){return o(e.target.value)},placeholder:"Add the name of the new type"})})}),Object(y.jsxs)(w.a.Footer,{children:[Object(y.jsx)(C.a,{variant:"outline-danger",onClick:n,children:"Close"}),Object(y.jsx)(C.a,{variant:"outline-success",onClick:function(){H({name:s}).then((function(e){o(""),n()}))},children:"Add"})]})]})},J=function(e){var t=e.show,n=e.onHide,c=Object(a.useState)(""),r=Object(i.a)(c,2),s=r[0],o=r[1];return Object(y.jsxs)(w.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(y.jsx)(w.a.Header,{closeButton:!0,children:Object(y.jsx)(w.a.Title,{id:"contained-modal-title-vcenter",children:"Add a new type"})}),Object(y.jsx)(w.a.Body,{children:Object(y.jsx)(S.a,{children:Object(y.jsx)(S.a.Control,{value:s,onChange:function(e){return o(e.target.value)},placeholder:"Add the name of the new type"})})}),Object(y.jsxs)(w.a.Footer,{children:[Object(y.jsx)(C.a,{variant:"outline-danger",onClick:n,children:"Close"}),Object(y.jsx)(C.a,{variant:"outline-success",onClick:function(){F({name:s}).then((function(e){o(""),n()}))},children:"Add"})]})]})},G=n(38),Y=n(17),q=n(51),K=n(36),Q=n(156),V=n(88),X=Object(u.a)((function(e){var t=e.show,n=e.onHide,c=Object(a.useContext)(We).device,r=Object(a.useState)(""),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(0),d=Object(i.a)(u,2),j=d[0],h=d[1],b=Object(a.useState)(null),p=Object(i.a)(b,2),O=p[0],m=p[1],x=Object(a.useState)([]),f=Object(i.a)(x,2),v=f[0],g=f[1];Object(a.useEffect)((function(){E().then((function(e){return c.setTypes(e)})),M().then((function(e){return c.setBrands(e)}))}),[]);var k=function(e,t,n){g(v.map((function(a){return a.number===n?Object(Y.a)(Object(Y.a)({},a),{},Object(G.a)({},e,t)):a})))};return Object(y.jsxs)(w.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(y.jsx)(w.a.Header,{closeButton:!0,children:Object(y.jsx)(w.a.Title,{id:"contained-modal-title-vcenter",children:"Add a new type"})}),Object(y.jsx)(w.a.Body,{children:Object(y.jsxs)(S.a,{children:[Object(y.jsxs)(K.a,{className:"mt-2 mb-2",children:[Object(y.jsx)(K.a.Toggle,{children:c.selectedType.name||"Select type"}),Object(y.jsx)(K.a.Menu,{children:c.types.map((function(e){return Object(y.jsx)(K.a.Item,{onClick:function(){return c.setSelectedType(e)},children:e.name},e.id)}))})]}),Object(y.jsxs)(K.a,{className:"mt-2 mb-2",children:[Object(y.jsx)(K.a.Toggle,{children:c.selectedBrand.name||"Select brand"}),Object(y.jsx)(K.a.Menu,{children:c.brands.map((function(e){return Object(y.jsx)(K.a.Item,{onClick:function(){return c.setSelectedBrand(e)},children:e.name},e.id)}))})]}),Object(y.jsx)(S.a.Control,{placeholder:"Enter the name of device",className:"mt-3",value:o,onChange:function(e){return l(e.target.value)}}),Object(y.jsx)(S.a.Control,{placeholder:"Enter the price of device",type:"number",className:"mt-3",value:j,onChange:function(e){return h(Number(e.target.value))}}),Object(y.jsx)(S.a.Control,{type:"file",className:"mt-3",onChange:function(e){console.log(e.target.files),m(e.target.files[0])}}),Object(y.jsx)("hr",{}),Object(y.jsx)(C.a,{onClick:function(){g([].concat(Object(q.a)(v),[{title:"",description:"",number:Date.now()}]))},children:"Add a new property"}),v.map((function(e){return Object(y.jsxs)(Q.a,{className:"mt-2",children:[Object(y.jsx)(V.a,{md:4,children:Object(y.jsx)(S.a.Control,{placeholder:"Enter a name of the property",value:e.title,onChange:function(t){return k("title",t.target.value,e.number)}})}),Object(y.jsx)(V.a,{md:4,children:Object(y.jsx)(S.a.Control,{placeholder:"Enter a description of the property",value:e.description,onChange:function(t){return k("description",t.target.value,e.number)}})}),Object(y.jsx)(V.a,{md:4,children:Object(y.jsx)(C.a,{variant:"outline-danger",onClick:function(){return t=e.number,void g(v.filter((function(e){return e.number!==t})));var t},children:"Delete"})})]},e.number)}))]})}),Object(y.jsxs)(w.a.Footer,{children:[Object(y.jsx)(C.a,{variant:"outline-danger",onClick:n,children:"Close"}),Object(y.jsx)(C.a,{variant:"outline-success",onClick:function(){var e=new FormData;e.append("name",o),e.append("price",String(j)),e.append("img",O),e.append("brandId",c.selectedBrand.id),e.append("typeId",c.selectedType.id),e.append("info",JSON.stringify(v)),R(e).then((function(e){return n()}))},children:"Add"})]})]})})),Z=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(i.a)(u,2),j=d[0],b=d[1];return Object(y.jsxs)(h.a,{className:"d-flex flex-column mt-4 mb-4",children:[Object(y.jsx)(C.a,{variant:"outline-dark",onClick:function(){return l(!0)},className:"mt-2",children:"Add type"}),Object(y.jsx)(C.a,{variant:"outline-dark",onClick:function(){return c(!0)},className:"mt-2",children:"Add brand"}),Object(y.jsx)(C.a,{variant:"outline-dark",onClick:function(){return b(!0)},className:"mt-2",children:"Add device"}),Object(y.jsx)(W,{show:n,onHide:function(){return c(!1)}}),Object(y.jsx)(J,{show:o,onHide:function(){return l(!1)}}),Object(y.jsx)(X,{show:j,onHide:function(){return b(!1)}})]})},$=n(166),ee=Object(u.a)((function(){var e=Object(a.useContext)(We).device;return Object(y.jsx)($.a,{horizontal:!0,children:e.brands.map((function(t){return Object(y.jsx)($.a.Item,{onClick:function(){return e.selectedBrand.id===t.id?e.setSelectedBrand({}):e.setSelectedBrand(t)},active:e.selectedBrand.id===t.id,children:t.name},t.id)}))})})),te=Object(u.a)((function(e){var t,n,a=e.device,c=Object(l.k)();return Object(y.jsx)(V.a,(n={md:3,className:"mt-3"},Object(G.a)(n,"className","d-flex "),Object(G.a)(n,"children",Object(y.jsxs)(b.a,{style:{width:"300px",cursor:"pointer"},className:"mt-4 mb-4",onClick:function(){return c.push("/device/"+a.id)},children:[Object(y.jsx)(p.a,{width:"100%",height:"auto",src:"http://localhost:5000/"+a.img}),Object(y.jsxs)(b.a.Body,{children:[Object(y.jsx)(b.a.Title,{children:null===(t=a.brand)||void 0===t?void 0:t.name}),Object(y.jsx)(b.a.Text,{children:a.name})]}),Object(y.jsx)(b.a.Footer,{children:Object(y.jsx)(j.a,{rating:a.rating,starRatedColor:"blue",numberOfStars:5,starHoverColor:"yellow",name:"rating",starDimension:"20px",starSpacing:"4px"})})]})),n))})),ne=Object(u.a)((function(){var e=Object(a.useContext)(We).device;return Object(y.jsx)(Q.a,{className:"d-flex",children:e.devices.map((function(e){return Object(y.jsx)(te,{device:e},e.id)}))})})),ae=Object(u.a)((function(){var e=Object(a.useContext)(We).device;return Object(y.jsx)($.a,{className:"mb-4",children:e.types.map((function(t){return Object(y.jsx)($.a.Item,{style:{cursor:"pointer"},active:t.id===e.selectedType.id,onClick:function(){return e.selectedType.id===t.id?e.setSelectedType({}):e.setSelectedType(t)},children:t.name},t.id)}))})})),ce=n(163),re=(n.p,n.p,n.p,Object(u.a)((function(){var e=Object(a.useContext)(We).device;return console.log(Object(Y.a)({},e.devices[0].brand).name),Object(y.jsx)(ce.a,{className:"carousel-dark",style:{height:"450px",minHeight:300},nextLabel:"",prevLabel:"",children:e.devices.map((function(e){var t;return Object(y.jsxs)(ce.a.Item,{style:{height:"450px",minHeight:300},children:[Object(y.jsx)("img",{className:"d-block w-100 img",src:"http://localhost:5000/"+e.img,alt:e.name}),Object(y.jsxs)(ce.a.Caption,{children:[Object(y.jsx)("h3",{children:(null===(t=e.brand)||void 0===t?void 0:t.name)+" "+e.name}),Object(y.jsx)("p",{children:"description"})]})]})}))})}))),se=n(167),ie=Object(u.a)((function(){for(var e=Object(a.useContext)(We).device,t=Math.ceil(e.total/e.limit),n=[],c=0;c<t;c++)n.push(c+1);return Object(y.jsx)(se.a,{className:"m-t-5 mt-2",children:n.map((function(t){return Object(y.jsx)(se.a.Item,{active:e.page===t,onClick:function(){return e.setPage(t)},activeLabel:"",children:t},t)}))})})),oe=Object(u.a)((function(){var e=Object(a.useContext)(We).device;return Object(a.useEffect)((function(){E().then((function(t){return e.setTypes(t)})),M().then((function(t){return e.setBrands(t)})),z(null,null,1,4).then((function(t){e.setDevices(t.rows),e.setTotalCount(t.count)}))}),[]),Object(a.useEffect)((function(){z(e.selectedType.id,e.selectedBrand.id,e.page,4).then((function(t){console.log(t.count),e.setDevices(t.rows),e.setTotalCount(t.count),console.log(e.total)})),console.log(Object(Y.a)({},e.selectedBrand).id),console.log(Object(Y.a)({},e.selectedType))}),[e.page,e.selectedType,e.selectedBrand]),Object(y.jsxs)(h.a,{children:[Object(y.jsx)(Q.a,{className:"d-flex align-items-center justify-content-center mt-3",children:Object(y.jsx)(V.a,{md:8,children:Object(y.jsx)(re,{})})}),Object(y.jsxs)(Q.a,{className:"mt-3",children:[Object(y.jsx)(V.a,{md:3,children:Object(y.jsx)(ae,{})}),Object(y.jsxs)(V.a,{md:9,children:[Object(y.jsx)(ee,{}),Object(y.jsx)(ne,{}),Object(y.jsx)(ie,{})]})]})]})})),le=function(){var e=Object(_.a)(T.a.mark((function e(t,n,a){var c,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.post("api/user/registration",{email:t,password:n,username:a,role:"USER"});case 2:return c=e.sent,r=c.data,localStorage.setItem("token",r.token),e.abrupt("return",Object(D.a)(r.token));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ue=function(){var e=Object(_.a)(T.a.mark((function e(t,n){var a,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.post("api/user/login",{email:t,password:n});case 2:return a=e.sent,c=a.data,localStorage.setItem("token",c.token),console.log(c.token),e.abrupt("return",Object(D.a)(c.token));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(_.a)(T.a.mark((function e(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("api/user/auth");case 2:return t=e.sent,n=t.data,localStorage.setItem("token",n.token),e.abrupt("return",Object(D.a)(n.token));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=Object(u.a)((function(){var e=Object(a.useContext)(We).user,t=Object(l.l)().pathname===m,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],s=c[1],u=Object(a.useState)(""),d=Object(i.a)(u,2),j=d[0],p=d[1],O=Object(a.useState)(""),v=Object(i.a)(O,2),g=v[0],k=v[1],w=Object(l.k)(),N=function(){var n=Object(_.a)(T.a.mark((function n(){var a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!t){n.next=7;break}return n.next=4,ue(r,j);case 4:a=n.sent,n.next=11;break;case 7:return n.next=9,le(r,j,g);case 9:a=n.sent,console.log(a);case 11:e.setUser(a),e.setIsAuth(!0),w.push(f),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),alert(n.t0.response.data.message);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(){return n.apply(this,arguments)}}();return Object(y.jsx)(h.a,{className:"d-flex justify-content-center align-items-center",style:{height:window.innerHeight-54},children:Object(y.jsxs)(b.a,{style:{width:600},className:"p-5",children:[Object(y.jsx)("h2",{className:"m-auto",children:t?"Authorization":"Registration"}),Object(y.jsxs)(S.a,{className:"d-flex flex-column",children:[t||Object(y.jsx)(S.a.Control,{className:"mt-4",placeholder:"Enter your username",value:g,onChange:function(e){return k(e.target.value)}}),Object(y.jsx)(S.a.Control,{className:"mt-4",placeholder:"Enter your email",value:r,onChange:function(e){return s(e.target.value)}}),Object(y.jsx)(S.a.Control,{className:"mt-4",placeholder:"Enter your password",value:j,onChange:function(e){return p(e.target.value)},type:"password"}),Object(y.jsxs)(Q.a,{className:"d-flex justify-content-between mt-4",children:[t?Object(y.jsxs)("div",{style:{display:"inline"},children:["Not registered yet? ",Object(y.jsx)(o.NavLink,{to:x,children:"Register!"})]}):Object(y.jsxs)("div",{style:{display:"inline"},children:["Have your own account? ",Object(y.jsx)(o.NavLink,{to:m,children:"Login!"})]}),Object(y.jsx)(C.a,{variant:"outline-success",className:"mt-2",onClick:N,children:t?"Enter":"Register"})]})]})]})})})),he=n(158),be=n(157),pe=function(){var e=Object(_.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("api/device/action/comment",t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(_.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("api/device/action/comment/"+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=Object(u.a)((function(e){var t=Object(a.useContext)(We),n=(t.device,t.user),c=Object(a.useState)([]),r=Object(i.a)(c,2),s=r[0],l=r[1],u=Object(a.useState)(""),d=Object(i.a)(u,2),j=d[0],h=d[1];return Object(a.useEffect)((function(){Oe(e.deviceId).then((function(e){return l(e)})),console.log(s)}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Comments"}),n.isAuth?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(S.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(y.jsx)(S.a.Label,{children:"Type your comment:"}),Object(y.jsx)(S.a.Control,{as:"textarea",rows:3,placeholder:"Your comment...",onChange:function(e){return h(e.target.value)}})]}),Object(y.jsx)(C.a,{variant:"primary",size:"sm",onClick:function(){console.log({text:j,deviceId:e.deviceId}),pe({text:j,deviceId:e.deviceId})},children:"Send"})]}):Object(y.jsxs)(be.a,{variant:"primary",children:["You need to login or register to comment this device. "," ",Object(y.jsx)(o.NavLink,{to:m,style:{textDecoration:"none"},children:"Login"})]}),s.map((function(e,t){return Object(y.jsx)(b.a,{className:"mt-2",children:Object(y.jsxs)(b.a.Body,{children:[Object(y.jsx)(b.a.Title,{children:"Author: "+e.user.username}),Object(y.jsx)(b.a.Text,{children:e.text}),Object(y.jsx)(b.a.Subtitle,{className:"mb-2 text-muted",children:new Date(e.timestamp.replace(" ","T")).toLocaleString()})]})},t)}))]})})),xe=Object(u.a)((function(){var e,t=Object(a.useContext)(We),n=Object(a.useState)({info:[],img:"test"}),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(l.m)();console.log(o);var u=t.device.likedDevice.find((function(e){return e.id===o.id}));return Object(a.useEffect)((function(){U(o.id).then((function(e){return s(e)}))}),[]),Object(y.jsxs)(h.a,{className:"mt-3",children:[Object(y.jsxs)(Q.a,{children:[Object(y.jsx)(V.a,{md:4,children:Object(y.jsx)(p.a,{width:300,height:300,src:"http://localhost:5000/"+r.img})}),Object(y.jsx)(V.a,{md:4,className:"d-flex flex-column align-items-center",children:Object(y.jsxs)(Q.a,{style:{height:"100%"},children:[Object(y.jsx)("h2",{children:(null===(e=r.brand)||void 0===e?void 0:e.name)+" "+r.name}),Object(y.jsx)("div",{className:"d-flex align-content-between flex-wrap",children:Object(y.jsx)(j.a,{rating:u?u.rating:r.rating,starRatedColor:"blue",numberOfStars:5,changeRating:function(e){return function(e){t.device.setLikedDevice({id:o.id,rating:e}),P({id:o.id,rating:e})}(e)},starHoverColor:"yellow",name:"rating"})})]})}),Object(y.jsx)(V.a,{md:4,children:Object(y.jsxs)(b.a,{className:"d-flex flex-column align-items-center justify-content-around",style:{width:300,height:300,fontSize:32},children:[Object(y.jsx)("h3",{children:r.price+"\u20b4"}),Object(y.jsx)(C.a,{variant:"outline-dark",onClick:function(){return t.user.setGoods(r)},children:"Add to basket"})]})})]}),Object(y.jsx)(Q.a,{className:"d-flex flex-column m-3",children:Object(y.jsxs)(he.a,{striped:!0,bordered:!0,hover:!0,children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Characteristics"}),Object(y.jsx)("th",{children:"Description"})]})}),Object(y.jsx)("tbody",{children:r.info.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.title}),Object(y.jsx)("td",{children:e.description})]},e.id)}))})]})}),Object(y.jsx)(Q.a,{className:"d-flex flex-column m-3",children:Object(y.jsx)(me,{deviceId:o.id})})]})})),fe=[{path:O,Component:Z},{path:v,Component:k}],ve=[{path:f,Component:oe},{path:m,Component:je},{path:x,Component:je},{path:"/device/:id",Component:xe},{path:"/gallery",Component:oe},{path:g,Component:oe}],ge=Object(u.a)((function(){var e=Object(a.useContext)(We).user;return Object(y.jsxs)(l.g,{children:[e.isAuth&&fe.map((function(e){var t=e.path,n=e.Component;return Object(y.jsx)(l.d,{path:t,component:n,exact:!0},t)})),ve.map((function(e){var t=e.path,n=e.Component;return Object(y.jsx)(l.d,{path:t,component:n,exact:!0},t)})),Object(y.jsx)(l.c,{to:f})]})})),ye=n(164),ke=n(168),Ce=n(159),we=n.p+"static/media/flower.f3d285c7.svg",Se=n.p+"static/media/home.af5da36e.svg",Ne=n.p+"static/media/cart.b320a772.svg",Te=n(56),_e=Object(u.a)((function(){var e=Object(a.useContext)(We).user,t=Object(l.k)();console.log(e.user);return Object(y.jsx)(ye.a,{variant:"dark",style:{backgroundColor:"#95D2EE"},collapseOnSelect:!0,expand:"lg",children:Object(y.jsxs)(h.a,{children:[Object(y.jsxs)(o.NavLink,{to:f,style:{textDecoration:"none"},className:"d-flex align-items-center",children:[Object(y.jsx)("img",{src:we,style:{width:50,height:50},title:"Flower Shop"}),Object(y.jsx)("div",{style:{paddingLeft:10,color:"#fff",fontSize:28,alignItems:"center"},children:"InternetShop"})]}),Object(y.jsx)(ye.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsxs)(ye.a.Collapse,{id:"responsive-navbar-nav",style:{fontSize:18},children:[Object(y.jsxs)(ke.a,{className:"ms-3 d-flex justify-content-center",children:[Object(y.jsx)(Te.LinkContainer,{to:f,children:Object(y.jsxs)(ke.a.Link,{children:[Object(y.jsx)("img",{src:Se,style:{width:13,height:13,marginRight:3},title:"Home"}),"Home"]})}),Object(y.jsxs)(Ce.a,{title:"Goods",id:"basic-nav-dropdown",children:[Object(y.jsx)(Ce.a.Item,{href:"#action/3.1",children:"Action"}),Object(y.jsx)(Ce.a.Item,{href:"#action/3.2",children:"Another action"}),Object(y.jsx)(Ce.a.Item,{href:"#action/3.3",children:"Something"}),Object(y.jsx)(Ce.a.Divider,{}),Object(y.jsx)(Ce.a.Item,{href:"#action/3.4",children:"Separated link"})]}),Object(y.jsx)(Te.LinkContainer,{to:v,children:Object(y.jsxs)(ke.a.Link,{children:[Object(y.jsx)("img",{src:Ne,style:{width:13,height:13,marginRight:3},title:"Cart"}),"Cart"]})}),Object(y.jsx)(Te.LinkContainer,{to:g,children:Object(y.jsx)(ke.a.Link,{children:"About Us"})})]}),e.isAuth?Object(y.jsxs)(ke.a,{className:"ms-auto p-2 bd-highlight",style:{color:"white"},children:[Object(y.jsx)(C.a,{variant:"outline-light",onClick:function(){e.setUser({}),e.setIsAuth(!1),localStorage.removeItem("token")},style:{margin:3},children:"Log out"}),"ADMIN"===e.user.role?Object(y.jsx)(C.a,{variant:"outline-light",onClick:function(){return t.push(O)},style:{margin:3},children:"Admin dashboard"}):void 0]}):Object(y.jsxs)(ke.a,{className:"ms-auto p-2 bd-highlight",style:{color:"white"},children:[Object(y.jsx)(C.a,{variant:"outline-light",onClick:function(){return t.push(m)},style:{margin:3},children:"Sign in"}),Object(y.jsx)(C.a,{variant:"outline-dark",onClick:function(){return t.push(x)},style:{margin:3},children:"Sign up"})]})]})]})})})),Le=n(160),Ie=function(){return Object(y.jsx)(ye.a,{variant:"dark",style:{backgroundColor:"#95D2EE"},collapseOnSelect:!0,expand:"lg",children:Object(y.jsxs)(h.a,{children:[Object(y.jsxs)(o.NavLink,{to:f,style:{textDecoration:"none"},className:"d-flex align-items-center",children:[Object(y.jsx)("img",{src:we,style:{width:50,height:50},title:"Flower Shop"}),Object(y.jsx)("div",{style:{paddingLeft:10,color:"#fff",fontSize:28,alignItems:"center"},children:"InternetShop"})]}),Object(y.jsx)(ye.a.Toggle,{}),Object(y.jsx)(ye.a.Collapse,{className:"justify-content-end",children:Object(y.jsxs)(ye.a.Text,{children:["Created by: ",Object(y.jsx)("a",{href:"#",children:"Tereshchenko Alex"})]})})]})})},Be=n(46),Ae=n(47),De=n(94),Fe=n(93),Ee=n(92),He=function(e){Object(De.a)(n,e);var t=Object(Fe.a)(n);function n(){var e;return Object(Be.a)(this,n),(e=t.call(this)).state={messageList:[],connected:!1},e.socket=c.a.createRef(),e}return Object(Ae.a)(n,[{key:"componentDidMount",value:function(){this.connect()}},{key:"connect",value:function(){var e=this;this.socket.current=new WebSocket("ws://localhost:5001/"),this.socket.current.onopen=function(){console.log("Socket was opened"),e.setState(Object(Y.a)(Object(Y.a)({},e.state),{},{connected:!0}))},this.socket.current.onmessage=function(t){e.setState(Object(Y.a)(Object(Y.a)({},e.state),{},{messageList:[].concat(Object(q.a)(e.state.messageList),[{author:"them",type:"text",data:Object(Y.a)({},JSON.parse(t.data).data)}])})),console.log(JSON.parse(t.data))},this.socket.current.onclose=function(){},this.socket.current.onerror=function(){}}},{key:"_onMessageWasSent",value:function(e){this.setState(Object(Y.a)(Object(Y.a)({},this.state),{},{messageList:[].concat(Object(q.a)(this.state.messageList),[e])})),console.log(JSON.stringify(e)),this.socket.current.send(JSON.stringify(e))}},{key:"_sendMessage",value:function(e){e.length>0&&this.setState(Object(Y.a)(Object(Y.a)({},this.state),{},{messageList:[].concat(Object(q.a)(this.state.messageList),[{author:"them",type:"text",data:{text:e}}])}))}},{key:"render",value:function(){return Object(y.jsx)("div",{children:Object(y.jsx)(Ee.a,{agentProfile:{teamName:"Chat with us",imageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png"},onMessageWasSent:this._onMessageWasSent.bind(this),messageList:this.state.messageList,showEmoji:!0})})}}]),n}(a.Component);var Me=Object(u.a)((function(){var e=Object(a.useContext)(We).user,t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){de().then((function(t){e.setUser(!0),e.setIsAuth(!0)})).finally((function(){r(!1)}))}),[]),c?Object(y.jsx)(Le.a,{animation:"grow"}):Object(y.jsxs)(o.BrowserRouter,{children:[Object(y.jsx)(_e,{}),Object(y.jsx)(ge,{}),Object(y.jsx)(Ie,{}),Object(y.jsx)(He,{})]})})),Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},ze=n(13),Ue=function(){function e(){Object(Be.a)(this,e),this._isAuth=!1,this._user={},this._goods=[],Object(ze.d)(this)}return Object(Ae.a)(e,[{key:"setIsAuth",value:function(e){this._isAuth=e}},{key:"setUser",value:function(e){this._user=e}},{key:"setGoods",value:function(e){this._goods.push(e)}},{key:"isAuth",get:function(){return this._isAuth}},{key:"user",get:function(){return this._user}},{key:"goods",get:function(){return this._goods}}]),e}(),Pe=function(){function e(){Object(Be.a)(this,e),this._types=[{id:1,name:"Fridges"},{id:2,name:"Smartphones"},{id:3,name:"Laptops"},{id:4,name:"Stoves"}],this._brands=[{id:1,name:"Samsung"},{id:2,name:"Nokia"}],this._devices=[{id:5,name:"Fridge 5",raiting:6,price:1200,img:"https://www.birite.com.au/wp-content/uploads/Teco-TFF210WNTBM-210L-Top-Mount-White-Fridge-Main.jpg"},{id:6,name:"Fridge 6",raiting:5,price:1200,img:"https://www.birite.com.au/wp-content/uploads/Teco-TFF210WNTBM-210L-Top-Mount-White-Fridge-Main.jpg"}],this._selectedType={},this._selectedBrand={},this._page=1,this._totalCount=0,this._limit=4,this._likedDevice=[],Object(ze.d)(this)}return Object(Ae.a)(e,[{key:"setTypes",value:function(e){this._types=e}},{key:"setBrands",value:function(e){this._brands=e}},{key:"setDevices",value:function(e){this._devices=e}},{key:"setSelectedType",value:function(e){this.setPage(1),this._selectedType=e}},{key:"setSelectedBrand",value:function(e){this.setPage(1),this._selectedBrand=e}},{key:"setPage",value:function(e){this._page=e}},{key:"setTotalCount",value:function(e){this._totalCount=e}},{key:"setLimit",value:function(e){this._limit=e}},{key:"setLikedDevice",value:function(e){var t=this._likedDevice.filter((function(t){return t.id===e.id}));0!==t.length?t[0].rating=e.rating:this._likedDevice.push(e)}},{key:"types",get:function(){return this._types}},{key:"brands",get:function(){return this._brands}},{key:"devices",get:function(){return this._devices}},{key:"selectedType",get:function(){return this._selectedType}},{key:"selectedBrand",get:function(){return this._selectedBrand}},{key:"page",get:function(){return this._page}},{key:"total",get:function(){return this._totalCount}},{key:"limit",get:function(){return this._limit}},{key:"likedDevice",get:function(){return this._likedDevice}}]),e}(),We=Object(a.createContext)(null);s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(We.Provider,{value:{user:new Ue,device:new Pe},children:Object(y.jsx)(Me,{})})}),document.getElementById("root")),Re()},99:function(e,t,n){}},[[149,1,2]]]);
//# sourceMappingURL=main.9cc4ed87.chunk.js.map